(this["webpackJsonpreact-scw-config"]=this["webpackJsonpreact-scw-config"]||[]).push([[0],{76:function(t,e){},77:function(t,e){},78:function(t,e,n){},80:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),c=n(3),o=n(26),s=n(27),i=n(28),u=n(30),l=n(31),d=n(29),p=n.n(d),h=n(4),b=n(10),O=n(14),_=n(6),f=n.n(_),j="STRAPI_CONFIG",A=("".concat("http://localhost:8081/api","/template/searchby/"),{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjU4ODA4OTcyLCJleHAiOjE2NjE0MDA5NzJ9.Ie_q98jsXoHsOWlZ9kwQGVwWk1tFJs9B9HuC5koeVXw")}),I=function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat("http://localhost:8081/api","/template/").concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(c.a)(r.a.mark((function t(e,n){var a,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&n||console.error(e,n),t.t0="",t.next=4,E();case 4:return t.t1=t.sent,a=t.t0.concat.call(t.t0,t.t1,"/content-manager/collection-types/api::").concat(e,".").concat(e,"/").concat(n),t.next=8,f.a.get(a,C({},"EntKcToken"));case 8:return c=t.sent,o=c.data,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T=function(t){var e=window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:localStorage.getItem("token");return e?{headers:{Authorization:"".concat(t," ").concat(e)}}:"EntKcToken"===t?{headers:A}:{}},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",n=T(e);return Object(O.a)(Object(O.a)({},t),n)},P=function(){var t=Object(c.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRAPI_TARGET_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_TARGET_URL:"http://localhost:8081",REACT_APP_STRAPI_API_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_URL:"http://localhost:8081/api",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjU4ODA4OTcyLCJleHAiOjE2NjE0MDA5NzJ9.Ie_q98jsXoHsOWlZ9kwQGVwWk1tFJs9B9HuC5koeVXw"}).REACT_APP_STRAPI_CONFIG_BE_URL).then((function(t){return t})).catch((function(t){return t}));case 2:return e=t.sent,t.abrupt("return",v(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(c.a)(r.a.mark((function t(e){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.head(e).then((function(t){return t})).catch((function(t){return t}));case 2:return n=t.sent,t.abrupt("return",v(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(c.a)(r.a.mark((function t(){var e,n,a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem(j)){t.next=14;break}return t.next=4,P();case 4:if(n=t.sent,a=n.data,n.isError||!a||!a.data||!a.data.baseUrl){t.next=14;break}return t.next=10,w(a.data.baseUrl);case 10:if(!(c=t.sent)||!c.data||200!==c.data.status||c.isError){t.next=14;break}return localStorage.setItem(j,a.data.baseUrl),t.abrupt("return",a.data.baseUrl);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(t){var e=!1;return t.hasOwnProperty("toJSON")&&"Error"===t.toJSON().name&&(e=!0),{data:t,isError:e}},g=(n(78),n(0));function k(){return Object(g.jsxs)("div",{className:"msg-top well",children:[Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:Object(g.jsxs)("strong",{children:[Object(g.jsx)("span",{className:"pficon pficon-warning-triangle-o"})," ","http://20.113.131.137:1337"," can't be reached. Please click ",Object(g.jsx)("a",{href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRAPI_TARGET_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_TARGET_URL:"http://localhost:8081",REACT_APP_STRAPI_API_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_URL:"http://localhost:8081/api",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjU4ODA4OTcyLCJleHAiOjE2NjE0MDA5NzJ9.Ie_q98jsXoHsOWlZ9kwQGVwWk1tFJs9B9HuC5koeVXw"}).REACT_APP_STRAPI_CONFIG_FE_URL,target:"_blank",children:"here"})," to configure it."]})})}),Object(g.jsx)("div",{className:"mt-2",children:Object(g.jsx)("button",{bsStyle:"primary",onClick:function(){return window.location.reload()},children:"Reload Page"})})]})}var R=n(55);var S=function(t){var e=t.name,n=t.templateId,a=t.contentId,o=Object(h.useState)(null),s=Object(b.a)(o,2),i=(s[0],s[1]),u=Object(h.useState)(null),l=Object(b.a)(u,2),d=(l[0],l[1]),p=Object(h.useState)(null),O=Object(b.a)(p,2),_=O[0],f=O[1];return Object(h.useEffect)(Object(c.a)(r.a.mark((function t(){var c,o,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(n);case 2:return c=t.sent,t.next=5,m(e,a);case 5:return o=t.sent,t.next=8,E();case 8:s=t.sent,i(c),d(o),o&&c&&(Object.keys(o).length>0&&Object.keys(o).map((function(t){o[t]&&Array.isArray(o[t])?o[t]&&o[t][0]&&o[t][0].ext&&o[t].map((function(t){return t.url=s+t.url})):o[t]&&"object"===typeof o[t]&&o[t]&&o[t].ext&&"object"===typeof o[t]&&(o[t].url=s+o[t].url)})),u=R.render(c.contentShape,{content:o}),f(u));case 12:case"end":return t.stop()}}),t)}))),[]),localStorage.getItem(j)?Object(g.jsx)(g.Fragment,{children:_?Object(g.jsx)("div",{dangerouslySetInnerHTML:{__html:_}}):Object(g.jsx)("h1",{children:"Loading..."})}):Object(g.jsx)(k,{})},x={name:"name",nameTwo:"nameTwo",selectedTemplateId:"selectedTemplateId",selectedContentId:"selectedContentId",selectedContentName:"selectedContentName"},y=function(t){Object(i.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).getStrapiConfiguration=Object(c.a)(r.a.mark((function e(){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(j),e.next=3,P();case 3:if(n=e.sent,a=n.data,n.isError||!a||!a.data||!a.data.baseUrl){e.next=11;break}return e.next=9,w(a.data.baseUrl);case 9:(c=e.sent)&&c.data&&200===c.data.status&&!c.isError&&localStorage.setItem(j,a.data.baseUrl);case 11:t.render();case 12:case"end":return e.stop()}}),e)}))),t}return Object(s.a)(n,[{key:"attributeChangedCallback",value:function(t,e,n){if(!Object.values(x).includes(t))throw new Error("Untracked changed attribute: ".concat(t));this.mountPoint&&n!==e&&this.getStrapiConfiguration()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.getStrapiConfiguration()}},{key:"render",value:function(){var t=this.getAttribute(x.name),e=this.getAttribute(x.nameTwo),n=this.getAttribute(x.selectedTemplateId),a=this.getAttribute(x.selectedContentId),r=this.getAttribute(x.selectedContentName);p.a.render(Object(g.jsx)(S,{name:t,nameTwo:e,templateId:n,contentId:a,contentName:r}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(x)}}]),n}(Object(l.a)(HTMLElement));customElements.get("my-single-widget")||customElements.define("my-single-widget",y)}},[[80,1,2]]]);
//# sourceMappingURL=main.49187ed2.chunk.js.map